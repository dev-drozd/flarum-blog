{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/typeof.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/regenerator/index.js","webpack://@v17development/flarum-blog/external assign \"flarum.extensions['fof-upload']\"","webpack://@v17development/flarum-blog/external assign \"flarum.extensions['v17development-seo']\"","webpack://@v17development/flarum-blog/webpack/bootstrap","webpack://@v17development/flarum-blog/webpack/runtime/compat get default export","webpack://@v17development/flarum-blog/webpack/runtime/define property getters","webpack://@v17development/flarum-blog/webpack/runtime/hasOwnProperty shorthand","webpack://@v17development/flarum-blog/webpack/runtime/make namespace object","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/app']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Model']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/common/models/Tag']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Page']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Button']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/Component']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Link']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogCategories.js","webpack://@v17development/flarum-blog/external assign \"flarum.extensions['fof-discussion-language']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/SelectDropdown']\"","webpack://@v17development/flarum-blog/./src/forum/components/ForumNav.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogOverviewItem.tsx","webpack://@v17development/flarum-blog/./src/forum/components/FeaturedBlogItem.tsx","webpack://@v17development/flarum-blog/./src/forum/pages/BlogOverview.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/extend']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/mixin']\"","webpack://@v17development/flarum-blog/./src/common/Models/BlogMeta.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@v17development/flarum-blog/./src/forum/utils/extendTagOverview.js","webpack://@v17development/flarum-blog/./src/forum/utils/discussionRouting.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogAuthor.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@v17development/flarum-blog/./src/forum/components/Modals/RenameArticleModal.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['tags/components/TagDiscussionModal']\"","webpack://@v17development/flarum-blog/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Switch']\"","webpack://@v17development/flarum-blog/./src/forum/components/Modals/BlogPostSettingsModal.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/ComposerBody']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/TextEditor']\"","webpack://@v17development/flarum-blog/./src/forum/components/Composer/ComposerPreview.js","webpack://@v17development/flarum-blog/./src/forum/components/Composer/Composer.js","webpack://@v17development/flarum-blog/./src/forum/pages/BlogComposer.js","webpack://@v17development/flarum-blog/external assign \"flarum.core\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/utils/extractText']\"","webpack://@v17development/flarum-blog/./src/forum/components/ArticleSubscription.js","webpack://@v17development/flarum-blog/./src/forum/components/BlogItemSidebar/BlogItemSidebar.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Alert']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/EditPostComposer']\"","webpack://@v17development/flarum-blog/./src/forum/components/BlogPostController.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/components/PostStream']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['forum/states/PostStreamState']\"","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/helpers/fullTime']\"","webpack://@v17development/flarum-blog/./src/forum/pages/BlogItem.js","webpack://@v17development/flarum-blog/./src/forum/compat.js","webpack://@v17development/flarum-blog/external root \"flarum.core.compat['common/components/LinkButton']\"","webpack://@v17development/flarum-blog/./src/forum/utils/addSidebarNav.js","webpack://@v17development/flarum-blog/./src/forum/index.ts","webpack://@v17development/flarum-blog/./src/forum/utils/redirector.js"],"sourcesContent":["var _typeof = require(\"./typeof.js\")[\"default\"];\n\nfunction _regeneratorRuntime() {\n  \"use strict\";\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n      Op = Object.prototype,\n      hasOwn = Op.hasOwnProperty,\n      $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n      iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n      asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n      toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n        generator = Object.create(protoGenerator.prototype),\n        context = new Context(tryLocsList || []);\n    return generator._invoke = function (innerFn, self, context) {\n      var state = \"suspendedStart\";\n      return function (method, arg) {\n        if (\"executing\" === state) throw new Error(\"Generator is already running\");\n\n        if (\"completed\" === state) {\n          if (\"throw\" === method) throw arg;\n          return doneResult();\n        }\n\n        for (context.method = method, context.arg = arg;;) {\n          var delegate = context.delegate;\n\n          if (delegate) {\n            var delegateResult = maybeInvokeDelegate(delegate, context);\n\n            if (delegateResult) {\n              if (delegateResult === ContinueSentinel) continue;\n              return delegateResult;\n            }\n          }\n\n          if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n            if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n            context.dispatchException(context.arg);\n          } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n          state = \"executing\";\n          var record = tryCatch(innerFn, self, context);\n\n          if (\"normal\" === record.type) {\n            if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n            return {\n              value: record.arg,\n              done: context.done\n            };\n          }\n\n          \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n        }\n      };\n    }(innerFn, self, context), generator;\n  }\n\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n\n  function Generator() {}\n\n  function GeneratorFunction() {}\n\n  function GeneratorFunctionPrototype() {}\n\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n      NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n            value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n\n      reject(record.arg);\n    }\n\n    var previousPromise;\n\n    this._invoke = function (method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function (resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n    };\n  }\n\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n            next = function next() {\n          for (; ++i < iterable.length;) {\n            if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n          }\n\n          return next.value = undefined, next.done = !0, next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    return {\n      next: doneResult\n    };\n  }\n\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, define(Gp, \"constructor\", GeneratorFunctionPrototype), define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (object) {\n    var keys = [];\n\n    for (var key in object) {\n      keys.push(key);\n    }\n\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n            record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n              hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n\n          return thrown;\n        }\n      }\n\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\n\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = flarum.extensions['fof-upload'];","module.exports = flarum.extensions['v17development-seo'];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/common/models/Tag'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Discussion'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Page'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogCategories extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.blogCategories = app.forum.attribute('blogTags');\n  }\n\n  view() {\n    return (\n      <div className=\"BlogCategories BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.categories')}</h3>\n\n        {this.blogCategories &&\n          this.blogCategories.map((tagId) => {\n            const tag = app.store.getById('tags', tagId);\n\n            if (!tag) return null;\n\n            const tags = [];\n            let showSubTags = this.blogCategories.length === 1 || tag.slug() === m.route.param('slug');\n\n            // Add tags\n            app.store.all('tags').forEach((_tag) => {\n              if (_tag.isChild() && _tag.parent() === tag) {\n                if (_tag.slug() === m.route.param('slug')) {\n                  showSubTags = true;\n                }\n\n                tags.push(this.categoryItem(_tag));\n              }\n            });\n\n            return showSubTags ? [this.categoryItem(tag), ...tags] : this.categoryItem(tag);\n          })}\n      </div>\n    );\n  }\n\n  // Category item\n  categoryItem(tag) {\n    return (\n      <Link\n        href={app.route('blogCategory', { slug: tag.slug() })}\n        className={`BlogSideWidget-item BlogSideWidget-item-${tag.id()} ${\n          tag.isChild() && app.forum.attribute('blogCategoryHierarchy') == true ? 'BlogSideWidget-item-child' : ''\n        }`}\n      >\n        <span className={tag.icon() === '' ? 'BlogSideWidget-item-colored' : ''} style={{ backgroundColor: tag.icon() === '' ? tag.color() : null }}>\n          <i className={tag.icon()} />\n        </span>\n        {tag.name()}\n      </Link>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.extensions['fof-discussion-language'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/SelectDropdown'];","import Component from 'flarum/common/Component';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport SelectDropdown from 'flarum/common/components/SelectDropdown';\n\nexport default class ForumNav extends Component {\n  view() {\n    return (\n      <div className=\"BlogForumNav BlogSideWidget\">\n        <h3>{app.translator.trans('v17development-flarum-blog.forum.forum_nav')}</h3>\n        <nav className=\"IndexPage-nav sideNav\">\n          <SelectDropdown buttonClassName=\"Button\" className=\"App-titleControl\">\n            {this.navItems().toArray()}\n          </SelectDropdown>\n        </nav>\n      </div>\n    );\n  }\n\n  navItems() {\n    return IndexPage.prototype.navItems();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/humanTime'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class BlogOverviewItem extends Component<Attrs> {\n  titleItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('title', <>{article.title()}</>, 100);\n\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\n      items.add('hidden', icon('fas fa-eye-slash', { class: 'BlogList-item-hidden' }), 80);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.()) {\n      items.add(\n        'pendingReview',\n        <Tooltip text={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}>\n          {icon('far fa-clock', { class: 'BlogList-item-pendingReview' })}\n        </Tooltip>,\n        40\n      );\n    }\n\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'createdAt',\n      <span class=\"BlogList-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n\n    items.add(\n      'author',\n      <span class=\"BlogList-item-details-author\">\n        {icon('far fa-user')} {article.user()?.displayName?.() || app.translator.trans('core.lib.username.deleted_text')}\n      </span>,\n      80\n    );\n\n    items.add(\n      'replies',\n      <span class=\"BlogList-item-details-replies\">\n        {icon('far fa-comment')} {(article.commentCount() || 1) - 1}\n      </span>,\n      60\n    );\n\n    return items;\n  }\n\n  contentItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n    const summary = article.blogMeta()?.summary?.() || '';\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add('title', <h4>{this.titleItems().toArray()}</h4>, 100);\n\n    if (summary) items.add('summary', <p>{summary}</p>, 80);\n\n    items.add('data', <div class=\"data\">{this.dataItems().toArray()}</div>, 60);\n\n    return items;\n  }\n\n  getImage(): string {\n    const { article, defaultImage } = this.attrs;\n\n    return article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n\n    const blogImage = this.getImage();\n\n    const isSized = article.blogMeta()?.isSized?.();\n\n    return (\n      <Link\n        href={app.route('blogArticle', {\n          id: `${article.slug()}`,\n        })}\n        className={classList(\n          'BlogList-item',\n          {\n            'BlogList-item-sized': isSized,\n            'BlogList-item-default': !isSized,\n          },\n          article.tags().map((tag) => `BlogList-item-category-${tag.id()}`)\n        )}\n      >\n        <div\n          class={classList('BlogList-item-photo', {\n            'FlarumBlog-default-image': blogImage === defaultImage,\n          })}\n          style={{ backgroundImage: blogImage }}\n        />\n\n        <div class=\"BlogList-item-content\">{this.contentItems().toArray()}</div>\n      </Link>\n    );\n  }\n}\n","import Component from 'flarum/common/Component';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport icon from 'flarum/common/helpers/icon';\nimport Discussion from 'flarum/common/models/Discussion';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport classList from 'flarum/common/utils/classList';\nimport app from 'flarum/forum/app';\nimport type Mithril from 'mithril';\n\ninterface Attrs {\n  article: Discussion;\n  defaultImage: string;\n}\n\nexport default class FeaturedBlogItem extends Component<Attrs> {\n  topItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'tags',\n      <span class=\"BlogFeatured-list-item-tags\">\n        {article.tags()?.map((tag) => (\n          <span class=\"dataItem\">{tag.name()}</span>\n        ))}\n      </span>,\n      100\n    );\n\n    // Sticky is an optional dependency, so we can't\n    // assume method existence.\n    if (article.isSticky?.()) {\n      items.add('sticky', <span class=\"BlogFeatured-list-item-isSticky dataItem\">{icon('fas fa-thumbtack')}</span>, 80);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.() || article.isHidden()) {\n      items.add('hidden', <span class=\"BlogFeatured-list-item-isHidden dataItem\">{icon('fas fa-eye-slash')}</span>, 60);\n    }\n\n    if (article.blogMeta()?.isPendingReview?.()) {\n      items.add(\n        'pendingReview',\n        <Tooltip text={app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')} position=\"bottom\">\n          <span class=\"BlogFeatured-list-item-pendingReview dataItem\">\n            {icon('far fa-clock')} {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review_title')}\n          </span>\n        </Tooltip>,\n        40\n      );\n    }\n\n    return items;\n  }\n\n  dataItems(): ItemList<Mithril.Children> {\n    const { article } = this.attrs;\n\n    const items = new ItemList<Mithril.Children>();\n\n    items.add(\n      'createdAt',\n      <span class=\"BlogFeatured-list-item-details-createdAt\">\n        {icon('far fa-clock')} {humanTime(article.createdAt())}\n      </span>,\n      100\n    );\n\n    items.add(\n      'author',\n      <span class=\"BlogFeatured-list-item-details-author\">\n        {icon('far fa-user')} {article.user()?.displayName() || app.translator.trans('core.lib.username.deleted_text')}\n      </span>,\n      80\n    );\n\n    items.add(\n      'replies',\n      <span class=\"BlogFeatured-list-item-details-replies\">\n        {icon('far fa-comment')} {article.commentCount() - 1}\n      </span>,\n      60\n    );\n\n    return items;\n  }\n\n  view(vnode: Mithril.Vnode<Attrs, this>) {\n    const { article, defaultImage } = this.attrs;\n\n    const blogImage = article.blogMeta()?.featuredImage?.() ? `url(${article.blogMeta().featuredImage()})` : defaultImage;\n\n    return (\n      <Link\n        href={app.route('blogArticle', {\n          id: `${article.slug()}`,\n        })}\n        className={classList(\n          'BlogFeatured-list-item',\n          article.tags().map((tag) => `BlogFeatured-list-item-category-${tag.id()}`),\n          'FlarumBlog-default-image'\n        )}\n        style={{ backgroundImage: blogImage }}\n      >\n        <div class=\"BlogFeatured-list-item-top\">{this.topItems().toArray()}</div>\n\n        <div className={'BlogFeatured-list-item-details'}>\n          <h4>{article.title()}</h4>\n\n          <div className={'data'}>{this.dataItems().toArray()}</div>\n        </div>\n      </Link>\n    );\n  }\n}\n","import app from 'flarum/forum/app';\n\nimport IndexPage from 'flarum/components/IndexPage';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport BlogCategories from '../components/BlogCategories';\nimport Link from 'flarum/common/components/Link';\nimport { components } from '@fof-discussion-language';\nimport ForumNav from '../components/ForumNav';\nimport BlogOverviewItem from '../components/BlogOverviewItem';\nimport FeaturedBlogItem from '../components/FeaturedBlogItem';\n\nexport default class BlogOverview extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    this.bodyClass = 'BlogOverviewPage';\n\n    this.isLoading = true;\n    this.featuredPosts = [];\n    this.posts = [];\n    this.hasMore = null;\n    this.isLoadingMore = false;\n\n    this.languages = app.store.all('discussion-languages');\n\n    this.currentSelectedLanguage = m.route.param('lang') ? m.route.param('lang') : app.translator.formatter.locale;\n\n    // Send history push\n    app.history.push('blog');\n\n    this.loadBlogOverview();\n\n    this.featuredCount = parseInt(app.forum.attribute('blogFeaturedCount'));\n\n    this.showCategories = true;\n    this.showForumNav = true;\n  }\n\n  // Load blog overview\n  loadBlogOverview() {\n    const preloadBlogOverview = app.preloadedApiDocument();\n\n    if (preloadBlogOverview) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\n    } else {\n      this.reloadData();\n    }\n\n    m.redraw();\n  }\n\n  reloadData() {\n    let q = `is:blog${m.route.param('slug') ? ` tag:${m.route.param('slug')}` : ''}`;\n\n    if (this.languages !== null && this.languages.length >= 1) {\n      q += ` language:${this.currentSelectedLanguage}`;\n    }\n\n    app.store\n      .find('discussions', {\n        filter: {\n          q,\n        },\n        sort: '-createdAt',\n      })\n      .then(this.show.bind(this))\n      .catch(() => {\n        m.redraw();\n      });\n  }\n\n  // Show blog posts\n  show(articles) {\n    if (articles.length === 0) {\n      this.isLoading = false;\n      m.redraw();\n\n      return;\n    }\n\n    // Set pagination\n    this.hasMore = articles.payload.links && articles.payload.links.next ? articles.payload.links.next : null;\n\n    this.featuredPosts = articles.slice(0, this.featuredCount);\n    this.posts = articles.length > this.featuredCount ? articles.slice(this.featuredCount, articles.length) : [];\n\n    this.isLoading = false;\n\n    m.redraw();\n  }\n\n  // Load more blog posts\n  loadMore() {\n    this.isLoadingMore = true;\n\n    app.store\n      .find(this.hasMore.replace(app.forum.attribute('apiUrl'), ''))\n      .then((data) => {\n        data.map((article) => this.posts.push(article));\n\n        // Update hasmore button\n        this.hasMore = data.payload.links && data.payload.links.next ? data.payload.links.next : null;\n      })\n      .catch(() => {})\n      .then(() => {\n        this.isLoadingMore = false;\n        m.redraw();\n      });\n  }\n\n  title() {\n    if (!m.route.param('slug')) {\n      return <h2>{app.translator.trans('v17development-flarum-blog.forum.recent_posts')}</h2>;\n    }\n\n    const tag = app.store.all('tags').filter((tag) => tag.slug() === m.route.param('slug'));\n\n    return (\n      <h2>\n        {tag && tag[0] && tag[0].name()}\n        <small>\n          {' '}\n          - <Link href={app.route('blog')}>{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</Link>\n        </small>\n      </h2>\n    );\n  }\n\n  view() {\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    let LanguageDropdown;\n    if ('fof-discussion-language' in flarum.extensions) {\n      LanguageDropdown = components.LanguageDropdown;\n    }\n\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogOverview'}>\n        <div className={'container'}>\n          <div className={'BlogFeatured'}>\n            <div className={'BlogOverviewButtons'}>\n              {app.forum.attribute('canWriteBlogPosts') && (\n                <Button className={'Button'} onclick={() => this.newArticle()} icon={'fas fa-pencil-alt'}>\n                  {app.translator.trans('v17development-flarum-blog.forum.compose.write_article')}\n                </Button>\n              )}\n\n              {this.languages !== null && this.languages.length >= 1 && (\n                <LanguageDropdown\n                  selected={this.currentSelectedLanguage}\n                  onclick={(language) => {\n                    if (typeof language !== 'string') return;\n\n                    this.currentSelectedLanguage = language;\n\n                    m.route.set(document.location.pathname, {\n                      lang: language,\n                    });\n\n                    this.reloadData();\n                  }}\n                />\n              )}\n            </div>\n\n            {this.title()}\n\n            <div style={{ clear: 'both' }} />\n\n            <div class=\"BlogFeatured-list\">\n              {/* Ghost data */}\n              {this.isLoading &&\n                [...new Array(this.featuredCount).fill(undefined)].map(() => (\n                  <div class=\"BlogFeatured-list-item BlogFeatured-list-item-ghost\">\n                    <div class=\"BlogFeatured-list-item-details\">\n                      <h4>&nbsp;</h4>\n\n                      <div class=\"data\">\n                        <span>\n                          <i class=\"far fa-wave\" />\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n\n              {!this.isLoading &&\n                this.featuredPosts.length >= 0 &&\n                this.featuredPosts.map((article) => <FeaturedBlogItem article={article} defaultImage={defaultImage} />)}\n            </div>\n          </div>\n\n          <div className={'BlogScrubber'}>\n            <div className={'BlogList'}>\n              {this.isLoading &&\n                [false, false, true, false].map((state) => {\n                  return (\n                    <div className={`BlogList-item BlogList-item-${state === true ? 'sized' : 'default'} BlogList-item-ghost`}>\n                      <div className={'BlogList-item-photo FlarumBlog-default-image'}></div>\n                      <div className={'BlogList-item-content'}>\n                        <h4>&nbsp;</h4>\n                        <p>&nbsp;</p>\n\n                        <div className={'data'}>\n                          <span>\n                            <i className={'far fa-wave'} />\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n\n              {!this.isLoading &&\n                this.posts.length >= 1 &&\n                this.posts.map((article) => <BlogOverviewItem article={article} defaultImage={defaultImage} />)}\n\n              {!this.isLoading && this.featuredPosts.length > 0 && this.hasMore === null && (\n                <p className={'FlarumBlog-reached-end'}>{app.translator.trans('v17development-flarum-blog.forum.no_more_posts')}</p>\n              )}\n\n              {!this.isLoading && this.featuredPosts.length === 0 && this.posts.length === 0 && (\n                <p className={'FlarumBlog-reached-end'}>{app.translator.trans('v17development-flarum-blog.forum.category_empty')}</p>\n              )}\n\n              {!this.isLoading && this.hasMore !== null && (\n                <div className={'FlarumBlog-reached-load-more'}>\n                  <Button className={'Button'} onclick={() => this.loadMore()} icon={'fas fa-chevron-down'} loading={this.isLoadingMore}>\n                    {app.translator.trans('core.forum.discussion_list.load_more_button')}\n                  </Button>\n                </div>\n              )}\n            </div>\n\n            <div className={'Sidebar'}>\n              {this.showCategories && <BlogCategories />}\n              {this.showForumNav && <ForumNav />}\n            </div>\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  newArticle() {\n    let tags = [];\n\n    // Get current category\n    const currentCategory = app.store.getBy('tags', 'slug', m.route.param('slug'));\n\n    if (currentCategory) {\n      tags.push(currentCategory);\n    }\n\n    // Redirect to the composer\n    m.route.set(\n      app.route('blogComposer', {\n        tags: tags.map((tag) => tag.id()).join(),\n        lang: this.languages.length > 0 ? this.currentSelectedLanguage : undefined,\n      })\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/mixin'];","import Model from 'flarum/common/Model';\nimport mixin from 'flarum/common/utils/mixin';\n\nexport default class BlogMeta extends mixin(Model, {\n  discussion: Model.hasOne('discussion'),\n  featuredImage: Model.attribute('featuredImage'),\n  summary: Model.attribute('summary'),\n  isFeatured: Model.attribute('isFeatured'),\n  isSized: Model.attribute('isSized'),\n  isPendingReview: Model.attribute('isPendingReview'),\n}) {}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagsPage'];","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport TagsPage from 'flarum/tags/components/TagsPage';\n\nexport default function extendTagOverview() {\n  extend(TagsPage.prototype, 'view', function (markup) {\n    // Pending xhr to load all tags, throw back loading indicator.\n    if (this.loading) {\n      return markup;\n    }\n\n    if (app.forum.attribute('blogHideTags') == false) return markup;\n\n    // Get blog tag ID's\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    const tag_tiles_parent = findChild(markup, 'TagsPage-content', true);\n    const tag_tiles = tag_tiles_parent?.children[0];\n\n    if (!tag_tiles_parent || !tag_tiles) return markup;\n\n    // Map through the tiles and remove tiles that are part of the blog\n    tag_tiles.children = tag_tiles.children.map((tile, i) => {\n      return blogTags.indexOf(this.tags[i].id()) >= 0 ? null : tile;\n    });\n\n    return markup;\n  });\n\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogHideTags') == false) return items;\n\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    blogTags.forEach((id) => {\n      items.remove(`tag${id}`);\n    });\n\n    return items;\n  });\n}\n\nfunction findChild(parent, childClass, recursive = false, maxDepth = 50, depth = 0) {\n  const children = getChildren(parent);\n  let child = null;\n\n  for (let i = 0; i < children.length; i++) {\n    const childClassName = children[i]?.attrs?.className || '';\n    if (childClassName.includes(childClass)) {\n      child = children[i];\n      break;\n    }\n  }\n\n  // Recursive search\n  if (recursive && !child && depth < maxDepth) {\n    for (let subParent of children) {\n      const subChild = findChild(subParent, childClass, true, maxDepth, depth + 1);\n      if (subChild) {\n        return subChild;\n      }\n    }\n  }\n\n  return child;\n}\n\nfunction getChildren(parent) {\n  if (Array.isArray(parent)) {\n    return parent;\n  }\n  const children = parent?.children || [];\n  if (!Array.isArray(children)) {\n    return [];\n  }\n  return children;\n}\n","export default function () {\n  // Save the original function before we override it\n  const original_discussion_route = app.route.discussion;\n\n  /**\n   * Generate a URL to a discussion OR a Blog Article.\n   *\n   * CORE_CODE_OVERRIDE: This overrides the standard function from flarum/core.\n   * The code is inspired from js/src/forum/routes.js and now handles different types of discussions.\n   * It will try to keep the original function executed if the discussion being\n   * processed isn't a blog article.\n   *\n   * @param {Discussion} discussion\n   * @param {Integer} [near]\n   * @return {String}\n   */\n  app.route.discussion = (discussion, near) => {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n    let shouldRedirect = false;\n    if (discussionRedirectEnabled && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      if (foundTags.length > 0) {\n        shouldRedirect = true;\n      }\n    }\n    if (shouldRedirect) {\n      return discussion.lastReadPostNumber() > 1\n        ? app.route('blogArticle.near', {\n            id: discussion.slug(),\n            near: discussion.lastReadPostNumber(),\n          })\n        : app.route('blogArticle', {\n            id: discussion.slug(),\n          });\n    } else {\n      return original_discussion_route(discussion, near);\n    }\n  };\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport avatar from 'flarum/common/helpers/avatar';\nimport Link from 'flarum/common/components/Link';\n\nexport default class BlogAuthor extends Component {\n  view() {\n    const author = !this.attrs.loading ? (this.attrs.article ? this.attrs.article.user() : this.attrs.user) : null;\n\n    return (\n      <div className={'FlarumBlog-Article-Author'}>\n        <div\n          className={`FlarumBlog-Article-Author-background ${this.attrs.loading ? 'FlarumBlog-Author-Ghost' : ''}`}\n          style={{\n            backgroundColor: author && author.color() ? author.color() : null,\n          }}\n        />\n\n        <div className={'FlarumBlog-Article-Author-Avatar'}>\n          {author ? (\n            <Link href={app.route('user', { username: author.username() })}>{avatar(author)}</Link>\n          ) : (\n            <span className={'Avatar FlarumBlog-Author-Ghost'} />\n          )}\n        </div>\n\n        {author && (\n          <div className={'FlarumBlog-Article-Author-Info'}>\n            <Link href={app.route('user', { username: author.username() })} className={'FlarumBlog-Article-Author-Name'}>\n              {author.displayName()}\n            </Link>\n            <p className={'FlarumBlog-Article-Author-Bio'}>{author.bio && author.bio()}</p>\n\n            <ul className={'FlarumBlog-Article-Author-Extended'}>{listItems(this.items().toArray())}</ul>\n          </div>\n        )}\n\n        {this.attrs.loading && (\n          <div>\n            <span className={'FlarumBlog-Article-Author-Name FlarumBlog-Author-Ghost'}>&nbsp;</span>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-Author-Bio FlarumBlog-Author-Ghost'}>&nbsp;</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  items() {\n    return new ItemList();\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\n\nexport default class RenameArticleModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.article = this.attrs.article;\n\n    this.name = Stream(this.article.title() || '');\n\n    this.redirect = this.attrs.redirect;\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.tools.rename_article');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'name',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article.title')}:</label>\n        <input className=\"FormControl\" placeholder={app.translator.trans('v17development-flarum-blog.forum.article.title')} bidi={this.name} />\n      </div>,\n      50\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      title: this.name(),\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    // Do not save\n    if (this.attrs.onChange) {\n      this.attrs.onChange(this.name());\n      this.hide();\n\n      return;\n    }\n\n    this.article\n      .save({\n        title: this.name(),\n      })\n      .then(\n        () => {\n          this.hide();\n\n          // Redirect\n          if (this.redirect) {\n            const url = `/blog/${this.article.slug()}`;\n\n            m.route.set(url, true);\n            window.history.replaceState(null, document.title, url);\n          }\n        },\n        (response) => {\n          this.loading = false;\n          this.handleErrors(response);\n        }\n      );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagDiscussionModal'];","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Switch'];","import app from 'flarum/forum/app';\nimport Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\nimport Switch from 'flarum/common/components/Switch';\nimport selectFiles from '../../utils/selectFiles';\n\nexport default class BlogPostSettingsModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    if (this.attrs.article) {\n      this.meta = this.attrs.article && this.attrs.article.blogMeta() ? this.attrs.article.blogMeta() : app.store.createRecord('blogMeta');\n    } else {\n      this.meta = this.attrs.meta ? this.attrs.meta : app.store.createRecord('blogMeta');\n    }\n\n    this.isNew = !this.meta.exists;\n\n    this.summary = Stream(this.meta.summary() || '');\n\n    this.featuredImage = Stream(this.meta.featuredImage() || '');\n\n    this.isFeatured = Stream(this.meta.isFeatured() || false);\n    this.isSized = Stream(this.meta.isSized() || false);\n    this.isPendingReview = Stream(this.meta.isPendingReview() || false);\n  }\n\n  className() {\n    return 'Modal--small Support-Modal';\n  }\n\n  title() {\n    return app.translator.trans('v17development-flarum-blog.forum.article_settings.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">{this.fields().toArray()}</div>\n      </div>\n    );\n  }\n\n  fields() {\n    const items = new ItemList();\n\n    items.add(\n      'summary',\n      <div className=\"Form-group\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.title')}:</label>\n        <textarea\n          className=\"FormControl\"\n          style={{\n            maxWidth: '100%',\n            minWidth: '100%',\n            width: '100%',\n            minHeight: '120px',\n          }}\n          bidi={this.summary}\n          placeholder={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.placeholder')}\n        />\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.summary.helper_text')}</small>\n      </div>,\n      30\n    );\n\n    let fofUploadButton = null;\n\n    if ('fof-upload' in flarum.extensions && app.forum.attribute('fof-upload.canUpload')) {\n      const {\n        components: { Uploader, FileManagerModal },\n      } = require('@fof-upload');\n\n      const uploader = new Uploader();\n\n      fofUploadButton = (\n        <Button\n          class=\"Button Button--icon\"\n          onclick={async () => {\n            app.modal.show(\n              FileManagerModal,\n              {\n                uploader: uploader,\n                onSelect: (files) => {\n                  const file = app.store.getById('files', files[0]);\n\n                  this.featuredImage(file.url());\n                },\n              },\n              true\n            );\n          }}\n          icon=\"fas fa-cloud-upload-alt\"\n        />\n      );\n    }\n\n    items.add(\n      'image',\n      <div className=\"Form-group V17Blog-ArticleImage\">\n        <label>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}:</label>\n        <div data-upload-enabled={!!fofUploadButton}>\n          <input type=\"text\" className=\"FormControl\" bidi={this.featuredImage} placeholder=\"https://\" />\n          {fofUploadButton}\n        </div>\n\n        <small>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.helper_text')}</small>\n\n        {this.featuredImage() !== '' && (\n          <img\n            src={this.featuredImage()}\n            alt=\"Article image\"\n            title={app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.image.title')}\n            style={{ width: '100%', marginTop: '15px' }}\n          />\n        )}\n      </div>,\n      30\n    );\n\n    items.add(\n      'sized',\n      <div className=\"Form-group\">\n        {Switch.component(\n          {\n            state: this.isSized() == true,\n            onchange: (val) => {\n              this.isSized(val);\n            },\n          },\n          [\n            <b>{app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.title')}</b>,\n            <div className=\"helpText\" style={{ fontWeight: 500 }}>\n              {app.translator.trans('v17development-flarum-blog.forum.article_settings.fields.highlight.helper_text')}\n            </div>,\n          ]\n        )}\n      </div>,\n      -10\n    );\n\n    items.add(\n      'submit',\n      <div className=\"Form-group\">\n        {Button.component(\n          {\n            type: 'submit',\n            className: 'Button Button--primary SupportModal-save',\n            loading: this.loading,\n          },\n          app.translator.trans('core.forum.composer_edit.submit_button')\n        )}\n      </div>,\n      -10\n    );\n\n    return items;\n  }\n\n  submitData() {\n    return {\n      summary: this.summary(),\n      featuredImage: this.featuredImage(),\n      isFeatured: this.isFeatured(),\n      isSized: this.isSized(),\n      isPendingReview: this.isPendingReview(),\n      relationships:\n        this.isNew && !this.attrs.isComposer\n          ? {\n              discussion: this.attrs.article,\n            }\n          : null,\n    };\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    // Submit data\n    if (this.attrs.onsubmit) {\n      // Update attributes\n      this.meta.pushData({\n        attributes: this.submitData(),\n      });\n\n      // Push\n      this.attrs.onsubmit(this.meta);\n\n      this.hide();\n      return;\n    }\n\n    this.loading = true;\n\n    this.meta.save(this.submitData()).then(\n      () => {\n        if (this.attrs.article) {\n          this.attrs.article.pushData({\n            relationships: {\n              blogMeta: this.meta,\n            },\n          });\n        }\n\n        this.hide();\n        m.redraw();\n      },\n      (response) => {\n        this.loading = false;\n        this.handleErrors(response);\n      }\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/ComposerBody'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/TextEditor'];","import Component from 'flarum/common/Component';\n\nexport default class ComposerPreview extends Component {\n  view() {\n    return <div />;\n  }\n\n  oncreate(vnode) {\n    super.oncreate(vnode);\n\n    s9e.TextFormatter.preview(vnode.attrs.content || '', vnode.dom);\n  }\n}\n","import ComposerBody from 'flarum/forum/components/ComposerBody';\nimport Button from 'flarum/common/components/Button';\nimport TextEditor from 'flarum/common/components/TextEditor';\nimport ComposerPreview from './ComposerPreview';\nimport app from 'flarum/forum/app';\n\nexport default class Composer extends ComposerBody {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.previewContent = false;\n  }\n\n  // Render\n  view() {\n    const hasContent = this.composer.fields.content() && this.composer.fields.content() !== '';\n    const loading = this.loading || this.attrs.disabled;\n\n    return (\n      <div className={`Flarum-Blog-Composer ${loading ? 'Flarum-Blog-Composer-Loading' : ''}`}>\n        <div className={'Flarum-Blog-Composer-tabs'}>\n          <Button className={!this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = false)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.write')}\n          </Button>\n          <Button className={this.previewContent && 'AricleComposerButtonSelected'} onclick={() => (this.previewContent = true)}>\n            {app.translator.trans('v17development-flarum-blog.forum.composer.view')}\n          </Button>\n        </div>\n\n        <div className={`Composer Flarum-Blog-Composer-body ${this.previewContent ? 'Flarum-Blog-Composer-HideEditor' : ''}`}>\n          {this.previewContent && (\n            <div className={'Flarum-Blog-Composer-preview'}>\n              {!hasContent && app.translator.trans('v17development-flarum-blog.forum.composer.nothing_to_preview')}\n\n              <ComposerPreview content={this.composer.fields.content()} />\n            </div>\n          )}\n\n          {TextEditor.component({\n            submitLabel: this.attrs.submitLabel || app.translator.trans('core.forum.composer_edit.submit_button'),\n            placeholder: this.attrs.placeholder,\n            disabled: loading,\n            composer: this.composer,\n            preview: this.jumpToPreview && this.jumpToPreview.bind(this),\n            onchange: this.composer.fields.content,\n            onsubmit: this.onsubmit.bind(this),\n            value: this.composer.fields.content(),\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  // Submit trigger\n  onsubmit() {\n    if (this.attrs.onsubmit) {\n      this.attrs.onsubmit();\n    }\n  }\n}\n","import app from 'flarum/forum/app';\nimport Page from 'flarum/common/components/Page';\nimport Button from 'flarum/common/components/Button';\nimport Link from 'flarum/common/components/Link';\nimport BlogAuthor from '../components/BlogItemSidebar/BlogAuthor';\nimport RenameArticleModal from '../components/Modals/RenameArticleModal';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport BlogPostSettingsModal from '../components/Modals/BlogPostSettingsModal';\nimport Composer from '../components/Composer/Composer';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Stream from 'flarum/common/utils/Stream';\nimport { components } from '@fof-discussion-language';\n\nexport default class BlogComposer extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // User cannot write blogs\n    if (!app.forum.attribute('canWriteBlogPosts')) {\n      m.route.set(app.route('blog'));\n      return;\n    }\n\n    // Send history push\n    app.history.push('blogComposer');\n\n    // Get languages (if enabled)\n    this.languages = app.store.all('discussion-languages') || [];\n\n    // Set body class\n    this.bodyClass = 'BlogItemPage BlogItemPage--composer';\n\n    // Article data\n    this.articleLanguage = Stream(m.route.param('lang') ? m.route.param('lang') : app.translator.locale);\n    this.article = app.store.createRecord('discussions');\n    this.blogMeta = null;\n\n    this.tags = [];\n\n    // Pre-select tags\n    if (m.route.param().tags) {\n      const tagList = Array.isArray(m.route.param().tags) ? m.route.param().tags : m.route.param().tags.split(',');\n\n      if (m.route.param().tags.length > 0) {\n        tagList.forEach((tagId) => {\n          const foundTag = app.store.getById('tags', tagId);\n\n          if (foundTag) {\n            this.tags.push(foundTag);\n          }\n        });\n      }\n    }\n\n    this.isSaving = false;\n  }\n\n  openTagsModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(TagDiscussionModal, {\n      selectedTags: this.tags,\n      onsubmit: (tags) => {\n        this.tags = tags;\n      },\n    });\n  }\n\n  openNameArticleModal(e = null) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    if (this.isSaving) return;\n\n    app.modal.show(RenameArticleModal, {\n      article: this.article,\n      onChange: (title) => {\n        this.article.pushData({\n          attributes: {\n            title,\n          },\n        });\n      },\n    });\n  }\n\n  openBlogSettings(e) {\n    e.preventDefault();\n\n    if (this.isSaving) return;\n\n    app.modal.show(BlogPostSettingsModal, {\n      meta: this.blogMeta,\n      onsubmit: (meta) => (this.blogMeta = meta),\n    });\n  }\n\n  view() {\n    return (\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>{this.pageItems().toArray()}</div>\n      </div>\n    );\n  }\n\n  pageItems() {\n    const items = new ItemList();\n\n    items.add(\n      'toolButtons',\n      <div className=\"FlarumBlog-ToolButtons\">\n        <Link href={app.route('blog')} className=\"Button\" loading={this.isSaving} icon=\"fas fa-angle-left\">\n          <i class=\"icon fas fa-angle-left Button-icon\" />\n          <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n        </Link>\n      </div>,\n      100\n    );\n\n    items.add('article', <div className={'FlarumBlog-Article'}>{this.articleWrapperItems().toArray()}</div>, 90);\n\n    return items;\n  }\n\n  articleWrapperItems() {\n    const items = new ItemList();\n\n    items.add('container', <div className=\"FlarumBlog-Article-Container\">{this.articleItems().toArray()}</div>, 100);\n\n    items.add(\n      'sidebar',\n      <div className=\"FlarumBlog-Article-Sidebar\">\n        <BlogAuthor user={app.session.user} />\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl') + '/assets/' + app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    const blogImage = this.blogMeta && this.blogMeta.featuredImage() ? `url(${this.blogMeta.featuredImage()})` : defaultImage;\n\n    let LanguageDropdown;\n    if ('fof-discussion-language' in flarum.extensions) {\n      LanguageDropdown = components.LanguageDropdown;\n    }\n\n    items.add(\n      'content',\n      <div className=\"FlarumBlog-Article-Content\">\n        <div\n          className={`FlarumBlog-Article-Image FlarumBlog-default-image`}\n          style={{\n            backgroundImage: blogImage,\n            cursor: 'pointer',\n          }}\n          onclick={(e) => this.openBlogSettings(e)}\n        />\n\n        <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n          <div className={this.languages.length === 0 ? 'FlarumBlog-Article-Content-Edit-Dropdown' : 'FlarumBlog-Article-Content-EditButtons'}>\n            {this.languages !== null && this.languages.length >= 1 && (\n              <LanguageDropdown\n                selected={this.articleLanguage()}\n                onclick={(language) => {\n                  if (typeof language !== 'string') return;\n\n                  this.articleLanguage(language);\n                }}\n              />\n            )}\n\n            <Button className={'Button'} onclick={(e) => this.openBlogSettings(e)} icon={'fas fa-pencil-alt'} loading={this.isSaving}>\n              {app.translator.trans('v17development-flarum-blog.forum.composer.update_settings')}\n            </Button>\n          </div>\n        </div>\n\n        {/* Article Categories */}\n        <div className={'FlarumBlog-Article-Categories'}>\n          {this.tags.map((tag) => (\n            <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n              {tag.name()}\n            </button>\n          ))}\n\n          <button class=\"Button Button--text\" onclick={(e) => this.openTagsModal(e)}>\n            {this.tags.length === 0\n              ? app.translator.trans('v17development-flarum-blog.forum.composer.select_category')\n              : app.translator.trans('v17development-flarum-blog.forum.composer.edit_categories')}{' '}\n            <i className={'fas fa-edit'} />\n          </button>\n        </div>\n\n        <div className={'FlarumBlog-Article-Post'}>\n          {/* Article name */}\n          <h1 onclick={() => this.openNameArticleModal()} className=\"FlarumBlog-Article-Title\" style={{ cursor: 'pointer' }}>\n            {this.article && this.article.title() && this.article.title() !== ''\n              ? this.article.title()\n              : app.translator.trans('v17development-flarum-blog.forum.composer.no_title')}\n\n            <button class=\"Button Button--text\" onclick={(e) => e.preventDefault()}>\n              <i className={'fas fa-edit'} />\n            </button>\n          </h1>\n\n          <div className=\"Post-body\">\n            <Composer\n              composer={app.composer}\n              originalContent={''}\n              submitLabel={app.translator.trans('v17development-flarum-blog.forum.composer.post_article')}\n              placeholder={app.translator.trans('v17development-flarum-blog.forum.composer.enter_message_here')}\n              onsubmit={() => this.create()}\n              disabled={this.isSaving}\n            />\n          </div>\n        </div>\n      </div>,\n      100\n    );\n\n    items.add(\n      'commentsPlaceholder',\n      <div className=\"FlarumBlog-Article-Comments\">\n        <h4>{app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} (0)</h4>\n        {/* Locked */}\n\n        <div className=\"Post-body\">\n          <blockquote class=\"uncited\">\n            <div>\n              <span className=\"fas fa-ban\" style={{ marginRight: '5px' }} />{' '}\n              {app.translator.trans('v17development-flarum-blog.forum.composer.comment_section')}\n            </div>\n          </blockquote>\n        </div>\n      </div>,\n      90\n    );\n\n    return items;\n  }\n\n  create() {\n    const blogTags = app.forum.attribute('blogTags') || [];\n\n    // Force tags\n    if (this.tags.length === 0) {\n      this.openTagsModal();\n      return;\n    }\n\n    // Force title\n    if (!this.article.title() || this.article.title() === '') {\n      this.openNameArticleModal();\n      return;\n    }\n\n    // Find blog tags\n    const findblogTags = this.tags.filter((tag) => {\n      return blogTags.indexOf(tag.id()) >= 0;\n    });\n\n    // No blog tags selected\n    if (findblogTags.length === 0) {\n      alert(app.translator.trans('v17development-flarum-blog.forum.composer.no_blog_tags_selected'));\n      return;\n    }\n\n    if (\n      (this.blogMeta === null || (!this.blogMeta.featuredImage() && !app.forum.attribute('blogDefaultImage')) || !this.blogMeta.summary()) &&\n      !confirm(app.translator.trans('v17development-flarum-blog.forum.composer.post_without_blog_info'))\n    ) {\n      return;\n    }\n\n    let relationships = {\n      tags: this.tags,\n    };\n\n    // Add languages if possible\n    if (this.languages.length > 0) {\n      relationships.language = app.store.getBy('discussion-languages', 'code', this.articleLanguage());\n    }\n\n    const data = {\n      title: this.article.title(),\n      content: app.composer.fields.content(),\n      relationships,\n      blogMeta:\n        this.blogMeta !== null\n          ? {\n              featuredImage: this.blogMeta.featuredImage(),\n              summary: this.blogMeta.summary(),\n              isSized: this.blogMeta.isSized(),\n            }\n          : null,\n    };\n\n    this.isSaving = true;\n\n    this.article\n      .save(data)\n      .then((article) => {\n        setTimeout(() => {\n          // Redirect to the article\n          m.route.set(app.route('blogArticle', { id: `${article.slug()}` }));\n        }, 500);\n      })\n      .catch(() => {\n        this.isSaving = false;\n        m.redraw();\n      });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core;","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extractText'];","import Component from 'flarum/common/Component';\nimport Button from 'flarum/common/components/Button';\nimport extractText from 'flarum/common/utils/extractText';\nimport Tooltip from 'flarum/common/components/Tooltip';\n\nexport default class ArticleSubscription extends Component {\n  view() {\n    const currentSubscriptionState = this.attrs.discussion.subscription();\n\n    const preferences = app.session.user.preferences();\n    const notifyEmail = preferences['notify_newPost_email'];\n    const notifyTooltip = extractText(\n      app.translator.trans(\n        notifyEmail ? 'flarum-subscriptions.forum.sub_controls.notify_email_tooltip' : 'flarum-subscriptions.forum.sub_controls.notify_alert_tooltip'\n      )\n    );\n\n    let title = app.translator.trans('flarum-subscriptions.forum.sub_controls.not_following_button');\n    let icon = 'far fa-star';\n\n    // Following\n    if (currentSubscriptionState === 'follow') {\n      title = app.translator.trans('flarum-subscriptions.forum.sub_controls.following_button');\n      icon = 'fas fa-star';\n    }\n\n    return (\n      <Tooltip text={notifyTooltip} position=\"bottom\">\n        <Button\n          className={`Button BlogArticleSubscription SubscriptionMenu-button--${currentSubscriptionState}`}\n          icon={icon}\n          onclick={this.saveSubscription.bind(\n            this,\n            this.attrs.discussion,\n            ['follow', 'ignore'].indexOf(currentSubscriptionState) !== -1 ? null : 'follow'\n          )}\n        >\n          {title}\n        </Button>\n      </Tooltip>\n    );\n  }\n\n  saveSubscription(discussion, subscription) {\n    discussion.save({ subscription });\n  }\n}\n","import Component from 'flarum/common/Component';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport BlogAuthor from './BlogAuthor';\nimport BlogCategories from '../BlogCategories';\nimport ForumNav from '../ForumNav';\n\nexport default class BlogItemSidebar extends Component {\n  view() {\n    return (\n      <div className={'FlarumBlog-Article-Sidebar'}>\n        <ul>{listItems(this.items().toArray())}</ul>\n      </div>\n    );\n  }\n\n  items() {\n    const itemlist = new ItemList();\n\n    itemlist.add('author', BlogAuthor.component(this.attrs), 0);\n\n    itemlist.add('categories', BlogCategories.component(this.attrs), 0);\n\n    itemlist.add('nav', ForumNav.component(this.attrs), 0);\n\n    return itemlist;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/utils/DiscussionControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Alert'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Dropdown'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/EditPostComposer'];","import Component from 'flarum/common/Component';\nimport TagDiscussionModal from 'flarum/tags/components/TagDiscussionModal';\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\nimport Alert from 'flarum/common/components/Alert';\nimport Button from 'flarum/common/components/Button';\nimport Dropdown from 'flarum/common/components/Dropdown';\nimport BlogPostSettingsModal from './Modals/BlogPostSettingsModal';\nimport EditPostComposer from 'flarum/forum/components/EditPostComposer';\nimport extractText from 'flarum/common/utils/extractText';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport RenameArticleModal from './Modals/RenameArticleModal';\nimport app from 'flarum/forum/app';\n\nexport default class BlogPostController extends Component {\n  init() {\n    this.loadedPost = false;\n  }\n\n  manageArticleButtons() {\n    const article = this.attrs.article;\n    const items = new ItemList();\n\n    // Working for GlowingBlue version\n    const LanguageDiscussionModal =\n      flarum.extensions['fof-discussion-language'] && typeof flarum.extensions['fof-discussion-language'].components !== 'undefined'\n        ? flarum.extensions['fof-discussion-language'].components.LanguageDiscussionModal\n        : null;\n\n    // Rename article\n    if (article.canRename()) {\n      items.add(\n        'rename',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(RenameArticleModal, { article }),\n            icon: 'fas fa-pencil-alt',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.rename_article')\n        ),\n        100\n      );\n    }\n\n    const articlePost = article.firstPost();\n\n    // Edit article\n    items.add(\n      'edit',\n      Button.component(\n        {\n          className: 'Button',\n          disabled: !articlePost || !articlePost.canEdit(),\n          onclick: () => {\n            app.composer.load(EditPostComposer, { post: articlePost });\n            app.composer.show();\n          },\n          icon: 'fas fa-edit',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.edit_article')\n      ),\n      90\n    );\n\n    // Article settings\n    items.add(\n      'articleSettings',\n      Button.component(\n        {\n          className: 'Button',\n          onclick: () => app.modal.show(BlogPostSettingsModal, { article }),\n          icon: 'fas fa-cogs',\n        },\n        app.translator.trans('v17development-flarum-blog.forum.tools.article_settings')\n      ),\n      80\n    );\n\n    // Update categories\n    if (article.canTag()) {\n      items.add(\n        'tag',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () => app.modal.show(TagDiscussionModal, { discussion: article }),\n            icon: 'fas fa-tag',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.tools.update_category')\n        ),\n        70\n      );\n    }\n\n    // Update article SEO\n    if (article.blogMeta() && 'v17development-seo' in flarum.extensions && app.forum.attribute('canConfigureSeo')) {\n      const {\n        components: { MetaSeoModal },\n      } = require('@v17development-seo');\n\n      items.add(\n        'seo',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: () =>\n              app.modal.show(MetaSeoModal, {\n                objectType: 'blogs',\n                objectId: article.blogMeta().id(),\n              }),\n            icon: 'fas fa-search',\n          },\n          app.translator.trans('v17development-flarum-seo.forum.controls.configure_seo')\n        ),\n        70\n      );\n    }\n\n    // Approve article\n    if (article.blogMeta() && article.blogMeta().isPendingReview()) {\n      items.add('separator1', <li className=\"Dropdown-separator\" />, 65);\n\n      items.add(\n        'approve',\n        Button.component(\n          {\n            className: 'Button',\n            disabled: !app.forum.attribute('canApproveBlogPosts'),\n            onclick: () => {\n              article\n                .blogMeta()\n                .save({\n                  isPendingReview: false,\n                })\n                .then(\n                  () => {\n                    app.alerts.show(\n                      Alert,\n                      { type: 'success' },\n                      app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article_approved')\n                    );\n                  },\n                  (response) => {\n                    this.loading = false;\n                    this.handleErrors(response);\n                  }\n                );\n            },\n            icon: 'fas fa-thumbs-up',\n          },\n          app.translator.trans('v17development-flarum-blog.forum.review_article.approve_article')\n        ),\n        60\n      );\n    }\n\n    // Language\n    if (article.canChangeLanguage && article.canChangeLanguage() && LanguageDiscussionModal) {\n      items.add(\n        'lang',\n        Button.component(\n          {\n            icon: 'fas fa-globe',\n            onclick: () => app.modal.show(LanguageDiscussionModal, { discussion: article }),\n          },\n          app.translator.trans('fof-discussion-language.forum.discussion_controls.change_language_button')\n        ),\n        50\n      );\n    }\n\n    items.add('separator2', <li className=\"Dropdown-separator\" />, 40);\n\n    // Lock article\n    if (article.canLock()) {\n      items.add(\n        'lock',\n        Button.component(\n          {\n            className: 'Button',\n            onclick: DiscussionControls.lockAction.bind(article),\n            icon: `fas ${article.isLocked() ? 'fa-comments' : 'fa-comment-slash'}`,\n          },\n          article.isLocked()\n            ? app.translator.trans('v17development-flarum-blog.forum.tools.enable_comments')\n            : app.translator.trans('v17development-flarum-blog.forum.tools.disable_comments')\n        ),\n        30\n      );\n    }\n\n    // Hide/show/delete\n    if (article.canHide()) {\n      // Article is hidden\n      if (article.isHidden()) {\n        // Recover article\n        items.add(\n          'recover',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.restoreAction.bind(article),\n              icon: 'fas fa-eye',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.recover_article')\n          ),\n          20\n        );\n\n        // Delete article\n        if (article.canDelete()) {\n          items.add(\n            'delete',\n            Button.component(\n              {\n                className: 'Button',\n                onclick: () => {\n                  // Confirm deletion\n                  if (confirm(extractText(app.translator.trans('core.forum.discussion_controls.delete_confirmation')))) {\n                    // Redirect if the current page is an blog article\n                    if (app.history.getCurrent().name === 'blogArticle') {\n                      if (app.previous) {\n                        app.history.back();\n                      } else {\n                        m.route.set(app.route('blog'));\n                      }\n                    }\n\n                    return article.delete().then(() => {\n                      m.redraw();\n                    });\n                  }\n                },\n                icon: 'far fa-trash-alt',\n              },\n              app.translator.trans('v17development-flarum-blog.forum.tools.delete_forever')\n            ),\n            10\n          );\n        }\n      } else {\n        // Hide article\n        items.add(\n          'hide',\n          Button.component(\n            {\n              className: 'Button',\n              onclick: DiscussionControls.hideAction.bind(article),\n              icon: 'fas fa-eye-slash',\n            },\n            app.translator.trans('v17development-flarum-blog.forum.tools.hide_article')\n          ),\n          0\n        );\n      }\n    }\n\n    return items;\n  }\n\n  view() {\n    const article = this.attrs.article;\n\n    const articlePost = article.firstPost();\n\n    return (\n      <div className={'FlarumBlog-Article-Content-Edit-Button'}>\n        <div className={'FlarumBlog-Article-Content-Edit-Dropdown'}>\n          {Dropdown.component(\n            {\n              icon: 'fas fa-cog',\n              label: 'Manage',\n              buttonClassName: 'Button',\n              menuClassName: 'Dropdown-menu--right',\n              onshow: () => {\n                // Get post data to make sure they can edit the post\n                if (articlePost && !articlePost.canEdit() && !this.loadedPost) {\n                  this.loadedPost = true;\n                  m.redraw();\n                }\n              },\n            },\n            this.manageArticleButtons().toArray()\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/PostStream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/states/PostStreamState'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/fullTime'];","import Page from 'flarum/common/components/Page';\nimport IndexPage from 'flarum/components/IndexPage';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport PostStream from 'flarum/forum/components/PostStream';\nimport PostStreamState from 'flarum/forum/states/PostStreamState';\nimport BlogPostController from '../components/BlogPostController';\nimport BlogItemSidebar from '../components/BlogItemSidebar/BlogItemSidebar';\nimport Link from 'flarum/common/components/Link';\nimport BlogOverview from './BlogOverview';\nimport fullTime from 'flarum/common/helpers/fullTime';\nimport ArticleSubscription from '../components/ArticleSubscription';\nimport classList from 'flarum/common/utils/classList';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport icon from 'flarum/common/helpers/icon';\nimport app from 'flarum/forum/app';\n\nexport default class BlogItem extends Page {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    app.setTitle(app.translator.trans('v17development-flarum-blog.forum.blog'));\n\n    // Send history push\n    app.history.push('blogArticle');\n\n    this.bodyClass = 'BlogItemPage';\n\n    this.near = m.route.param('near') || 0;\n\n    this.loading = true;\n    this.found = false;\n    this.article = null;\n\n    this.loadBlogItem();\n  }\n\n  // Load blog overview\n  loadBlogItem() {\n    const preloadBlogOverview = app.preloadedApiDocument();\n\n    if (preloadBlogOverview) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      setTimeout(this.show.bind(this, preloadBlogOverview), 0);\n    } else {\n      app.store\n        .find('discussions', m.route.param('id').split('-')[0])\n        .then(this.show.bind(this))\n        .catch(() => {\n          m.redraw();\n        });\n    }\n\n    m.redraw();\n  }\n\n  // Show blog post\n  show(article) {\n    // Set article data\n    this.article = article;\n\n    // Update title\n    app.setTitle(`${article.title()} - ${app.translator.trans('v17development-flarum-blog.forum.blog')}`);\n\n    this.loading = false;\n\n    let includedPosts = [];\n    if (article.payload && article.payload.included) {\n      const articleId = article.id();\n\n      includedPosts = article.payload.included\n        .filter(\n          (record) =>\n            record.type === 'posts' &&\n            record.relationships &&\n            record.relationships.discussion &&\n            record.relationships.discussion.data.id === articleId\n        )\n        .map((record) => app.store.getById('posts', record.id))\n        .sort((a, b) => a.id() - b.id())\n        .slice(0, 20);\n    }\n\n    this.stream = new PostStreamState(article, includedPosts);\n\n    // Scroll to specific post\n    if (this.near) {\n      this.stream.goToNumber(this.near || 0, true).then(() => {\n        app.current.set('discussion', article);\n        app.current.set('stream', this.stream);\n      });\n    }\n\n    // Read post on load\n    if (app.session.user && !article.lastReadPostNumber()) {\n      article.save({ lastReadPostNumber: 1 });\n    }\n\n    m.redraw();\n  }\n\n  postItems() {\n    let articlePost = null;\n\n    if (!this.loading && this.article) {\n      articlePost = this.article?.firstPost?.();\n    }\n\n    const items = new ItemList();\n\n    items.add(\n      'title',\n      <h1\n        className={classList('FlarumBlog-Article-Title', {\n          'FlarumBlog-Article-GhostTitle': this.loading,\n        })}\n      >\n        {this?.article?.title?.() || 'Ghost title'}\n        {this.article?.isHidden?.() && `(${app.translator.trans('v17development-flarum-blog.forum.hidden')})`}\n      </h1>,\n      100\n    );\n\n    items.add(\n      'publishDate',\n      <div\n        className={classList('FlarumBlog-Article-PublishDate', {\n          'FlarumBlog-Article-GhostPublishDate': this.loading,\n        })}\n      >\n        {this.article ? fullTime(this.article.createdAt()) : <span>&nbsp;</span>}\n      </div>,\n      80\n    );\n\n    if (this.loading) {\n      items.add(\n        'skeleton',\n        [0, 1, 2].map(() => (\n          <div>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p className={'FlarumBlog-Article-GhostParagraph'}>&nbsp;</p>\n            <p>&nbsp;</p>\n          </div>\n        )),\n        60\n      );\n    }\n\n    if (!this.loading) {\n      if (this.article.blogMeta?.()?.isPendingReview?.()) {\n        items.add(\n          'review',\n          <div className={'Post-body'}>\n            <blockquote class=\"uncited\" style={{ fontSize: '16px' }}>\n              <div>\n                {icon('far fa-clock', { style: { marginRight: '5px' } })}{' '}\n                {app.translator.trans('v17development-flarum-blog.forum.review_article.pending_review')}\n              </div>\n            </blockquote>\n          </div>,\n          60\n        );\n      }\n\n      if (articlePost) {\n        items.add('post', <CommentPost post={articlePost} />, 40);\n      }\n    }\n\n    return items;\n  }\n\n  contentItems() {\n    const defaultImage = app.forum.attribute('blogDefaultImage')\n      ? `url(${app.forum.attribute('baseUrl')}/assets/${app.forum.attribute('blogDefaultImage')})`\n      : null;\n\n    const blogImage = this.article?.blogMeta()?.featuredImage?.() ? `url(${this.article.blogMeta().featuredImage()})` : defaultImage;\n\n    const items = new ItemList();\n\n    items.add(\n      'image',\n      <div\n        className={classList('FlarumBlog-Article-Image FlarumBlog-default-image', { 'FlarumBlog-Article-GhostImage': this.loading })}\n        style={{\n          backgroundImage: blogImage,\n          opacity: this.article?.isHidden?.() ? 0.4 : null,\n        }}\n      />,\n      100\n    );\n\n    if (this.article && (app.session.user?.canEdit?.() || this.article?.canRename?.() || this.article?.posts?.()?.[0]?.canEdit?.())) {\n      items.add('editArticle', <BlogPostController article={this.article} />, 80);\n    }\n\n    // Article Categories\n    items.add(\n      'categories',\n      <div className=\"FlarumBlog-Article-Categories\">\n        {!this.loading && this.article?.tags?.()?.map((tag) => <Link href={app.route('blogCategory', { slug: tag.slug() })}>{tag.name()}</Link>)}\n\n        {this.loading && [0, 1].map(() => <span className=\"FlarumBlog-Article-GhostCategory\">Category</span>)}\n      </div>,\n      60\n    );\n\n    items.add('post', <div className={'FlarumBlog-Article-Post'}>{this.postItems().toArray()}</div>, 40);\n\n    return items;\n  }\n\n  articleItems() {\n    const items = new ItemList();\n\n    items.add('content', <div className=\"FlarumBlog-Article-Content\">{this.contentItems().toArray()}</div>, 100);\n\n    if (!(this?.article?.isLocked?.() && this?.article?.commentCount?.() === 1)) {\n      items.add(\n        'comments',\n        <div className={'FlarumBlog-Article-Comments'}>\n          {/* Show subscription state */}\n          {!this.loading &&\n            app.session.user &&\n            this.article.subscription &&\n            (!this.article.isLocked || (this.article.isLocked && !this.article.isLocked())) && <ArticleSubscription discussion={this.article} />}\n\n          <h4>\n            {app.translator.trans('v17development-flarum-blog.forum.comment_section.comments')} ({this.article ? this.article.commentCount() - 1 : 0})\n          </h4>\n\n          {/* Locked */}\n          {!this.loading && this.article?.isLocked?.() && (\n            <div className={'Post-body'}>\n              <blockquote class=\"uncited\">\n                <div>\n                  <span className={'far fa-lock'} style={{ marginRight: '5px' }} />{' '}\n                  {app.translator.trans('v17development-flarum-blog.forum.comment_section.locked')}\n                </div>\n              </blockquote>\n            </div>\n          )}\n\n          {!this.loading &&\n            this.article &&\n            PostStream.component({\n              discussion: this.article,\n              stream: this.stream,\n              onPositionChange: this.positionChanged.bind(this),\n            })}\n        </div>,\n        75\n      );\n    }\n\n    return items;\n  }\n\n  view() {\n    return [\n      app.forum.attribute('blogAddHero') == true && IndexPage.prototype.hero(),\n      <div className={'FlarumBlogItem'}>\n        <div className={'container'}>\n          <div className={'FlarumBlog-ToolButtons'}>\n            <Link\n              href={app.route('blog')}\n              className={'Button'}\n              onclick={(e) => {\n                if (app.previous.matches(BlogOverview)) {\n                  e.preventDefault();\n                  history.back();\n                }\n              }}\n            >\n              <i class=\"icon fas fa-angle-left Button-icon\"></i>\n              <span class=\"Button-label\">{app.translator.trans('v17development-flarum-blog.forum.return_to_overview')}</span>\n            </Link>\n          </div>\n          <div className={'FlarumBlog-Article'}>\n            <div className={'FlarumBlog-Article-Container'}>{this.articleItems().toArray()}</div>\n\n            <BlogItemSidebar article={this.article} loading={this.loading} />\n          </div>\n        </div>\n      </div>,\n    ];\n  }\n\n  positionChanged(startNumber, endNumber) {\n    const article = this.article;\n\n    if (app.session.user && endNumber > (article.lastReadPostNumber() || 0)) {\n      article.save({ lastReadPostNumber: endNumber });\n      m.redraw();\n    }\n  }\n}\n","import { compat } from '@flarum/core/forum';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport ArticleSubscription from './components/ArticleSubscription';\nimport BlogCategories from './components/BlogCategories';\nimport BlogAuthor from './components/BlogItemSidebar/BlogAuthor';\nimport BlogItemSidebar from './components/BlogItemSidebar/BlogItemSidebar';\nimport BlogOverviewItem from './components/BlogOverviewItem';\nimport BlogPostController from './components/BlogPostController';\nimport Composer from './components/Composer/Composer';\nimport ComposerPreview from './components/Composer/ComposerPreview';\nimport FeaturedBlogItem from './components/FeaturedBlogItem';\nimport ForumNav from './components/ForumNav';\nimport BlogPostSettingsModal from './components/Modals/BlogPostSettingsModal';\nimport RenameArticleModal from './components/Modals/RenameArticleModal';\nimport BlogItem from './pages/BlogItem';\nimport BlogOverview from './pages/BlogOverview';\n\nexport default () => {\n  Object.assign(compat, {\n    'v17development/blog/components/BlogItemSidebar': BlogItemSidebar,\n    'v17development/blog/components/BlogAuthor': BlogAuthor,\n\n    'v17development/blog/components/Composer/Composer': Composer,\n    'v17development/blog/components/Composer/ComposerPreview': ComposerPreview,\n\n    'v17development/blog/components/Modals/BlogPostSettingsModal': BlogPostSettingsModal,\n    'v17development/blog/components/Modals/RenameArticleModal': RenameArticleModal,\n\n    'v17development/blog/components/ArticleSubscription': ArticleSubscription,\n    'v17development/blog/components/BlogCategories': BlogCategories,\n    'v17development/blog/components/BlogOverviewItem': BlogOverviewItem,\n    'v17development/blog/components/BlogPostController': BlogPostController,\n    'v17development/blog/components/FeaturedBlogItem': FeaturedBlogItem,\n    'v17development/blog/components/ForumNav': ForumNav,\n\n    'v17development/blog/pages/BlogItem': BlogItem,\n    'v17development/blog/pages/BlogOverview': BlogOverview,\n\n    'v17development/blog/models/BlogMeta': BlogMeta,\n  });\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LinkButton'];","import { extend } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport LinkButton from 'flarum/common/components/LinkButton';\n\nexport default function addSidebarNav() {\n  extend(IndexPage.prototype, 'navItems', function (items) {\n    if (app.forum.attribute('blogAddSidebarNav') && app.forum.attribute('blogAddSidebarNav') !== '0') {\n      items.add(\n        'blog',\n        <LinkButton icon=\"fas fa-comment\" href={app.route('blog')}>\n          {app.translator.trans('v17development-flarum-blog.forum.blog')}\n        </LinkButton>,\n        15\n      );\n    }\n\n    return items;\n  });\n}\n","import app from 'flarum/forum/app';\nimport Model from 'flarum/common/Model';\nimport Tag from 'flarum/tags/common/models/Tag';\nimport Discussion from 'flarum/common/models/Discussion';\nimport BlogOverview from './pages/BlogOverview';\nimport redirector from './utils/redirector';\nimport BlogMeta from '../common/Models/BlogMeta';\nimport extendTagOverview from './utils/extendTagOverview';\nimport discussionRouting from './utils/discussionRouting';\nimport BlogComposer from './pages/BlogComposer';\nimport compat from './compat';\nimport addSidebarNav from './utils/addSidebarNav';\n\nimport BlogItem from './pages/BlogItem';\n\n// Register Flarum Blog\napp.initializers.add(\n  'v17development-flarum-blog',\n  (app) => {\n    app.routes.blog = { path: '/blog', component: BlogOverview };\n\n    app.routes.blogCategory = {\n      path: '/blog/category/:slug',\n      component: BlogOverview,\n    };\n\n    app.routes.blogComposer = {\n      path: '/blog/compose',\n      component: BlogComposer,\n    };\n\n    app.routes.blogArticle = { path: '/blog/:id', component: BlogItem };\n\n    app.routes['blogArticle.near'] = {\n      path: '/blog/:id/:near',\n      component: BlogItem,\n    };\n\n    app.store.models.blogMeta = BlogMeta;\n\n    Discussion.prototype.blogMeta = Model.hasOne<BlogMeta>('blogMeta');\n    Tag.prototype.isBlog = Model.attribute<boolean>('isBlog');\n\n    // Redirect discussions/tags to their blog post/overview\n    redirector();\n\n    // Extend tag overview.\n    // Hide tags which are used as blog category\n    extendTagOverview();\n\n    // Make that blog articles have a blog route and not a discussion route\n    discussionRouting();\n\n    // Add a link to the blog to the IndexPage sidebar, if enabled.\n    addSidebarNav();\n  },\n  -100000\n);\n\ncompat();\n","import IndexPage from 'flarum/forum/components/IndexPage';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\nimport { extend, override } from 'flarum/common/extend';\nimport app from 'flarum/forum/app';\n\nexport default function () {\n  // Redirect tag to blog category\n  extend(IndexPage.prototype, 'oncreate', function () {\n    const tag = this.currentTag();\n    const tagRedirectEnabled = app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'tags_only';\n\n    // Only trigger when it's a tag page and the redirects are enabled\n    if (tag && tagRedirectEnabled) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      // Tag is inside list\n      if (blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0)) {\n        m.route.set(app.route('blog'));\n      }\n    }\n  });\n\n  // Redirect discussion to blog article\n  override(DiscussionPage.prototype, 'show', function (original, discussion) {\n    const discussionRedirectEnabled =\n      app.forum.attribute('blogRedirectsEnabled') === 'both' || app.forum.attribute('blogRedirectsEnabled') === 'discussions_only';\n\n    if (discussionRedirectEnabled && discussion && discussion && discussion.tags().length > 0) {\n      const blogTags = app.forum.attribute('blogTags');\n\n      const foundTags = discussion.tags().filter((tag) => {\n        return blogTags.indexOf(tag.id()) >= 0 || (tag.parent() && blogTags.indexOf(tag.parent().id()) >= 0);\n      });\n\n      // Only redirect if the discussion has blog tags\n      if (foundTags.length > 0) {\n        // Redirect to blog article\n        const url = app.route('blogArticle', {\n          id: discussion.slug(),\n        });\n\n        m.route.set(url, null, { replace: true });\n\n        return null;\n      }\n    }\n\n    return original(discussion);\n  });\n}\n"],"names":["_typeof","require","_regeneratorRuntime","module","exports","__esModule","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","state","method","arg","Error","undefined","done","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","invoke","resolve","reject","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","doneResult","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","flarum","extensions","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","d","a","definition","o","get","prop","r","core","compat","_setPrototypeOf","p","bind","_inheritsLoose","subClass","superClass","BlogCategories","oninit","vnode","blogCategories","app","forum","attribute","view","className","translator","trans","map","tagId","tag","store","getById","tags","showSubTags","slug","m","route","param","all","_tag","isChild","parent","categoryItem","href","id","icon","style","backgroundColor","color","Component","ForumNav","buttonClassName","navItems","toArray","IndexPage","BlogOverviewItem","titleItems","article","attrs","items","ItemList","add","title","blogMeta","isPendingReview","isHidden","class","text","dataItems","humanTime","createdAt","user","commentCount","contentItems","summary","getImage","defaultImage","featuredImage","blogImage","isSized","classList","backgroundImage","FeaturedBlogItem","topItems","isSticky","position","BlogOverview","bodyClass","isLoading","featuredPosts","posts","hasMore","isLoadingMore","languages","currentSelectedLanguage","loadBlogOverview","featuredCount","parseInt","showCategories","showForumNav","preloadBlogOverview","setTimeout","show","reloadData","redraw","q","filter","sort","articles","payload","links","loadMore","replace","data","LanguageDropdown","components","onclick","newArticle","selected","language","set","document","location","pathname","lang","clear","Array","fill","loading","currentCategory","join","Page","BlogMeta","mixin","Model","discussion","isFeatured","extendTagOverview","extend","TagsPage","markup","blogTags","tag_tiles_parent","findChild","tag_tiles","children","tile","indexOf","remove","childClass","recursive","maxDepth","depth","isArray","getChildren","child","includes","subChild","original_discussion_route","near","shouldRedirect","lastReadPostNumber","BlogAuthor","author","username","avatar","bio","listItems","RenameArticleModal","Stream","redirect","content","fields","placeholder","bidi","Button","submitData","onsubmit","e","preventDefault","onChange","hide","save","url","window","history","replaceState","response","handleErrors","Modal","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","BlogPostSettingsModal","meta","isNew","exists","maxWidth","minWidth","width","minHeight","fofUploadButton","Uploader","FileManagerModal","uploader","onSelect","files","file","src","alt","marginTop","Switch","onchange","val","fontWeight","relationships","isComposer","pushData","attributes","ComposerPreview","oncreate","s9e","TextFormatter","preview","dom","Composer","previewContent","hasContent","composer","disabled","TextEditor","submitLabel","jumpToPreview","ComposerBody","BlogComposer","articleLanguage","tagList","split","foundTag","isSaving","openTagsModal","TagDiscussionModal","selectedTags","openNameArticleModal","openBlogSettings","pageItems","articleWrapperItems","articleItems","cursor","originalContent","marginRight","confirm","alert","ArticleSubscription","currentSubscriptionState","subscription","notifyEmail","session","preferences","notifyTooltip","extractText","saveSubscription","BlogItemSidebar","itemlist","component","BlogPostController","init","loadedPost","manageArticleButtons","LanguageDiscussionModal","canRename","articlePost","firstPost","canEdit","EditPostComposer","post","canTag","MetaSeoModal","objectType","objectId","Alert","canChangeLanguage","canLock","DiscussionControls","isLocked","canHide","canDelete","Dropdown","label","menuClassName","onshow","BlogItem","found","loadBlogItem","includedPosts","included","articleId","b","stream","PostStreamState","goToNumber","postItems","fullTime","fontSize","opacity","PostStream","onPositionChange","positionChanged","back","startNumber","endNumber","addSidebarNav","routes","blog","path","blogCategory","blogComposer","blogArticle","models","Discussion","Tag","currentTag","tagRedirectEnabled","override","DiscussionPage","original","discussionRouting","assign"],"sourceRoot":""}